<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title></title>
<meta name="author" content="(Aldric Giacomoni)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js-3.8.0/css/reveal.css"/>

<link rel="stylesheet" href="./reveal.js-3.8.0/css/theme/solarized.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './reveal.js-3.8.0/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">

<section>
<section id="slide-orgf9ce505">
<h2 id="orgf9ce505">You're already doing TDD</h2>
<aside class="notes">
<p>
I swear. Let's explore this.
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org0677a47">
<h2 id="org0677a47">Decision-making</h2>
<aside class="notes">
<p>
As programmers, our job is to make a lot of decisions.
</p>

<p>
Decisions of what code to write and what code not to write
</p>

<p>
Decisions of how to write the code
</p>

</aside>
</section>
</section>
<section>
<section id="slide-orgde4825b">
<h2 id="orgde4825b">Big decisions are combinations of small decisions</h2>
<p>
What meal should Î™ eat?
</p>

<aside class="notes">
<ul>
<li>how do I feel</li>
<li>how much food</li>
<li>fries or ice cream or both?</li>

</ul>

</aside>
</section>
</section>
<section>
<section id="slide-org718b999">
<h2 id="org718b999">Don't take my word for it</h2>
<ul>
<li>Descartes</li>
<li>Fermi</li>

</ul>

<aside class="notes">
<p>
Rene Descartes said "I think therefore I am" and basically created western science as we know it - more on the next slide.
</p>

<p>
Enrico Fermi a physicist was the creator of the world's first nuclear reactor
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org685fe44">
<h2 id="org685fe44">Cartesian method</h2>
<ol>
<li>Accept as true only what is indubitable.</li>
<li>Divide every question into manageable parts.</li>
<li>Begin with the simplest issues and ascend to the more complex.</li>
<li>Review frequently enough to retain the whole argument at once.</li>

</ol>

<aside class="notes">
<p>
Descartes made significant strides in mathematics, and physics by relating certain complex items and problems back to more simple elements that served as starting points for his inquiries.
</p>

<p>
His reductive method also impoverished these domains in important ways, for it tended to restrict geometry to the study of straight line segments, and physics to the study of ambiguously constituted bits of matter in motion,
</p>

</aside>
</section>
</section>
<section>
<section id="slide-orgcc012c1">
<h2 id="orgcc012c1">Fermi questions</h2>
<p>
break a big measurement into smaller estimatable measurements
</p>
<aside class="notes">
<p>
Fermi was present when the first atomic bomb was detonated. He let a few pieces of paper fall and, based on how far they traveled, estimated the force of the blast.
</p>

<p>
Fermi's estimate of 10 kilotons of TNT was well within an order of magnitude of the now-accepted value of 21 kilotons.
</p>

<p>
These questions were and may still be used in the Google interview process.
</p>

</aside>
</section>
<section id="slide-org7c677ec">
<h3 id="org7c677ec">How many piano tuners are there in Chicago?</h3>
<aside class="notes">
<p>
Straight from Wikipedia
</p>

</aside>
</section>
<section id="slide-org01da79e">
<h3 id="org01da79e">Decompose</h3>
<p>
Number of pianos divided by number of tunings in a year
</p>

<ul>
<li># pianos?</li>
<li># pianos per tuner per day?</li>

</ul>
</section>
<section id="slide-orgfb6ccdc">
<h3 id="orgfb6ccdc">How many pianos?</h3>
<ul>
<li># people in Chicago?</li>
<li># people per household?</li>
<li># households w/ regularly tuned piano?</li>

</ul>
</section>
<section id="slide-orgdb882c0">
<h3 id="orgdb882c0">how many pianos per tuner per day?</h3>
<ul>
<li># hours per tuning?</li>
<li># hours per tuner?</li>

</ul>
</section>
<section id="slide-org5e38dae">
<h3 id="org5e38dae">plug in some numbers</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">variable</th>
<th scope="col" class="org-right">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">population</td>
<td class="org-right">9M</td>
</tr>

<tr>
<td class="org-left">people per household</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">houses w/ piano</td>
<td class="org-right">20</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">hours per tuning</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">hours per tuner</td>
<td class="org-right">50 * 5 * 8</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>
50 * 5 * 8 = 2000
</p>

</aside>
</section>
<section id="slide-org71a05d9">
<h3 id="org71a05d9">mix it all up</h3>
<p>
Number of pianos divided by number of tunings in a year
</p>

<p>
9000000 / 2 / 20 / (50 * 5 * 8 / 2)
</p>
</section>
<section id="slide-org665da4c">
<h3 id="org665da4c">Boom</h3>
<p>
225
</p>
<aside class="notes">
<p>
In 2009, the actual number of piano tuners in Chicago is about 290
</p>

</aside>
</section>
</section>
<section>
<section id="slide-orgc7e45a2">
<h2 id="orgc7e45a2">Decomposing</h2>
<p>
Good enough for Descartes
</p>

<p>
Good enough for Fermi
</p>
<aside class="notes">
<p>
A big problem is a combination of small problems
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org2a37238">
<h2 id="org2a37238">In programming</h2>
<p>
decomposition is called <b>factoring</b>
</p>
<aside class="notes">
<p>
I learned this while preparing this talk.
</p>

<p>
And I came to the following realization
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org649fc85">
<h2 id="org649fc85">Refactoring</h2>
<p>
Yep. re-factoring.
</p>
<aside class="notes">
<p>
So when you change the bits of the system, you change the way it's decomposed!
</p>

<p>
Alright, alright, enough preamble.
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org9562ae9">
<h2 id="org9562ae9">Okay okay, TDD</h2>
<p>
Real talk now (wake up your neighbor)
</p>
</section>
</section>
<section>
<section id="slide-orged3ecbd">
<h2 id="orged3ecbd">Usual steps of TDD</h2>
<ol>
<li>Write a failing test</li>
<li>Make it pass</li>
<li>Refactor</li>
<li>Continue</li>

</ol>

<aside class="notes">
<p>
I hate this description
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org1ea1bfa">
<h2 id="org1ea1bfa">So why are you already doing TDD?</h2>
<ul>
<li>break down problem into smaller parts</li>
<li>implement bits of it</li>
<li>connect the implemented bits</li>
<li>profit</li>

</ul>

<aside class="notes">
<p>
This looks like the Cartesian method to me.
</p>

<p>
I mean, that's basically how everything works, right?
</p>

</aside>
</section>
</section>
<section>
<section id="slide-orgef90503">
<h2 id="orgef90503">Steps of Test-Driven Design</h2>
<ol>
<li>Define non-existent behavior</li>
<li>Write test</li>
<li>Marie-Kondo the code you just wrote</li>
<li>Think of how it will fail</li>
<li>Run it, verify your hypothesis</li>
<li>Implement just enough to make it pass</li>
<li>Refactor as desired</li>

</ol>
<aside class="notes">
<p>
here we enrich the steps like Descartes suggested
</p>

<p>
We have a step to see how much we like the API for the implementation we want to write, we can check things like single responsibility principle, law of demeter, etc.
</p>

<p>
In that step, step 3, you can throw away the code you wrote if you don't like it and write the test differently. That's a quick way to explore a new factoring (decomposition) of the code.
</p>

<p>
We have a step to check that we understand the system as it is
</p>

<p>
We have a step to check that we understand the system as it grows
</p>

</aside>
</section>
</section>
<section>
<section id="slide-orgd172f8e">
<h2 id="orgd172f8e">Connecting the dots</h2>
<ol>
<li>set our goal</li>
<li>decompose (factor)</li>
<li>choose the simplest issue</li>
<li>review frequently enough to retain the whole argument</li>

</ol>
</section>
<section id="slide-org7afa4d7">
<h3 id="org7afa4d7">1. set our goal</h3>
<ol>
<li>Think of the feature you want</li>
<li>Write a test representing the feature</li>

</ol>
</section>
<section id="slide-org28e321b">
<h3 id="org28e321b">decompose &amp; choose simplest issue</h3>
<ol>
<li>Write a failing test for a small part of the feature</li>

</ol>
</section>
<section id="slide-org4eeef68">
<h3 id="org4eeef68">review frequently enough to retain the whole argument</h3>
<ol>
<li>Verify that you know how it will fail</li>
<li>Make it pass</li>
<li>Optionally, refactor</li>

</ol>
<aside class="notes">
<p>
and we continue doing this until the top-level test passes
</p>

</aside>
</section>
<section id="slide-org0040282">
<h3 id="org0040282">And on and on we go</h3>
<aside class="notes">
<p>
where it stops, nobody knows
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org33b7bc4">
<h2 id="org33b7bc4">Decompose the problem, think about the implementation</h2>
<p>
You have to be able to refactor the implementation under test
</p>
<aside class="notes">
<p>
This is a fair warning and is the ... artful? part of TDD.
</p>

<p>
You end up learning the right level of granularity for test, this is the best guiding principle I've come up with
</p>

</aside>
</section>
<section id="slide-org5088379">
<h3 id="org5088379">Desired behavior</h3>
<div class="org-src-container">

<pre  class="src src-ruby"><code trim><span style="color: #3a5ca6;">def</span> <span style="color: #f2650d;">test_same_modality</span>
  one_mod = [<span style="color: #58a329;">"CR"</span>, <span style="color: #58a329;">"CR"</span>]
  two_mods = [<span style="color: #58a329;">"CR"</span>, <span style="color: #58a329;">"CT"</span>]
  assert same_modality?(one_mod)
  refute same_modality?(two_mods)
<span style="color: #3a5ca6;">end</span>
</code></pre>
</div>
</section>
<section id="slide-org9ef2983">
<h3 id="org9ef2983">Years ago I wrote this</h3>
<div class="org-src-container">

<pre  class="src src-ruby"><code trim><span style="color: #3a5ca6;">def</span> <span style="color: #f2650d;">same_modality?</span>(documents)
  modalities = []
  documents.each <span style="color: #3a5ca6;">do</span> |document|
    <span style="color: #3a5ca6;">unless</span> modalities.include?(document.modality)
      modalities &lt;&lt; document.modality
    <span style="color: #3a5ca6;">end</span>
  <span style="color: #3a5ca6;">end</span>
  modalities.size == 1
<span style="color: #3a5ca6;">end</span>
</code></pre>
</div>
</section>
<section id="slide-org3864ecb">
<h3 id="org3864ecb">A year and a half later, I changed it to this</h3>
<div class="org-src-container">

<pre  class="src src-ruby"><code trim>documents.map(&amp;<span style="color: #074e8d;">:modality</span>).uniq.size == 1
</code></pre>
</div>
<aside class="notes">
<p>
Knowing the tools at hand allowed me to recognize the problem as one that an existing tool solved
</p>

<p>
In this case the test actually became obsolete because it was no longer worth testing for me, so I deleted the method, the test, and refactored a bunch of code around this. It was glorious.
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org4fb0c7e">
<h2 id="org4fb0c7e">Conclusion</h2>
<p>
Descartes invented TDD
</p>
<img class="stretch" src="descartes.jpg">

</section>
</section>
<section>
<section id="slide-orgebc610d">
<h2 id="orgebc610d">Resources</h2>
<ul>
<li>exercism (lightweight: tests already exist)</li>
<li><a href="http://ruby-challenge.rubylearning.com/">ruby learning</a></li>
<li><a href="http://makingcodespeak.com/2014/04/18/tiny-projects.html">Moss' tiny projects blog entry</a></li>

</ul>

<aside class="notes">
<p>
if you want to practice making decisions, here are some good resources to use
</p>

<p>
ruby learning: (lightish weight, self-contained, some have a test suite, some don't)
</p>

<p>
tiny projects: (lots of ideas for self-contained projects) (try robotfindskitten!)
</p>

</aside>

</section>
</section>
<section>
<section id="slide-orga817851">
<h2 id="orga817851">Q&amp;A</h2>
<p>
Aldric Giacomoni
</p>

<p>
<code>@trevoke</code>
</p>

<p>
Wake up your neighbor
</p>

<p>
Send flames to <code>/dev/null</code>
</p>

<aside class="notes">
<p>
thanks for listening!
</p>

<p>
questions?
</p>

</aside>
</section>
</section>
</div>
</div>
<script src="./reveal.js-3.8.0/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: './reveal.js-3.8.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: './reveal.js-3.8.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './reveal.js-3.8.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './reveal.js-3.8.0/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: './reveal.js-3.8.0/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
